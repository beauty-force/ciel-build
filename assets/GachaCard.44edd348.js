import{L as u,x as _,E as h,r as g,o,c as n,d as e,F as m,b,w as f,e as x,y as d,t as l,W as p}from"./app.62a5d5a9.js";import{_ as v}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as y}from"./PlayIcon.5e1a561d.js";const w={components:{Link:u,PlayIcon:y},props:{gacha:Object,url_edit:String},data(){return{category_share:_().props.value.category_share,url_card:""}},methods:{get_progress_value(){let t=Math.round(this.gacha.count_rest*100/this.gacha.count_card),r="#fe0000";return t>33&&(r="#99fe00"),t>66&&(r="#99fe00"),{value:t,bg_color:r}},format_number(t){return String(t).replace(/(.)(?=(\d{3})+$)/g,"$1,")},getImageClass(t){return"url('"+t+"')"},clickCard(){this.gacha.count_rest>0&&!this.url_edit&&(window.location.href=this.url_card)},destroyGacha(t){confirm("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F")&&h.Inertia.delete(route("admin.gacha.destroy",{id:t}))}},mounted(){this.url_edit||(this.url_card=route("user.gacha",this.gacha.id))}},k={class:"cursor-pointer border border-red-500 mb-0 relative rounded-[20px] shadow w-full bg-cover overflow-hidden bg-gradient-to-r from-yellow-600 via-yellow-300 to-yellow-600",style:{borderWidth:"3px"}},C=["data-src"],z={key:0,class:"absolute z-20 top-0 left-0 items-center px-2 py-1 bg-green-500 border border-transparent rounded-sm font-semibold text-sm text-white tracking-widest"},L={key:1,class:"absolute z-20 top-0 left-0 items-center px-2 py-1 bg-neutral-500 border border-transparent rounded-sm font-semibold text-sm text-white tracking-widest"},S={key:1,class:"absolute bottom-0 w-full h-full bg-opacity-70 z-10 bg-neutral-900"},G=e("div",{class:"text-white text-[50px] py-[40px] w-[100%] absolute mt-[30%] text-center font-black"},"SOLD OUT",-1),N=[G],V={class:"bottom-0 bg-neutral-900 mx-2 mb-1.5 mt-3 py-1 px-1.5 rounded-full"},B={class:"px-4 text-yellow-400"},I={class:"flex flex-row justify-between mb-1 px-1"},O=e("span",{class:"text-xs mr-1"},"\u6B8B",-1),P={class:"font-semibold text-base"},T={class:"text-xs"},j={class:"flex items-center"},D=e("span",{class:"inline-block pr-1"},[e("img",{class:"w-5 h-5",src:"/images/icon_cash.png"})],-1),E={class:"font-semibold"},F=e("span",null,"PT",-1),W={class:"mb-1"},M={class:"w-full bg-gray-200 rounded-full h-4 dark:bg-gray-700 overflow-hidden"};function U(t,r,s,q,A,a){const c=g("Link");return o(),n("div",k,[e("div",{onClick:r[0]||(r[0]=i=>a.clickCard())},[e("img",{class:"lazy",alt:"Ciel | \u30AA\u30F3\u30E9\u30A4\u30F3\u30AC\u30C1\u30E3\u30FB\u30AA\u30EA\u30D1\u5C02\u9580\u5E97","data-src":s.gacha.thumbnail},null,8,C)]),s.url_edit?(o(),n(m,{key:0},[b(c,{href:s.url_edit,class:"absolute z-20 top-0 right-0 items-center px-8 py-2.5 bg-green-500 border border-transparent rounded-sm font-semibold text-sm text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"},{default:f(()=>[x(" \u7DE8\u96C6\u3059\u308B ")]),_:1},8,["href"]),s.gacha.status==1?(o(),n("div",z," \u516C\u958B ")):(o(),n("div",L," \u975E\u516C\u958B ")),e("button",{onClick:r[1]||(r[1]=i=>a.destroyGacha(s.gacha.id)),class:"z-20 rounded absolute bottom-0 right-0 px-4 py-2 bg-red-500 text-xs text-neutral-50"}," \u524A\u9664 ")],64)):d("",!0),s.gacha.count_rest==0&&!s.url_edit?(o(),n("div",S,N)):d("",!0),e("div",V,[e("div",B,[e("div",I,[e("div",null,[O,e("span",P,l(a.format_number(s.gacha.count_rest)),1),e("span",T,"/"+l(a.format_number(s.gacha.count_card)),1)]),e("div",j,[D,e("span",E,l(a.format_number(s.gacha.point)),1),F])]),e("div",W,[e("div",M,[e("div",{class:"h-4 rounded-full",style:p({width:a.get_progress_value().value+"%",backgroundColor:a.get_progress_value().bg_color})},null,4)])])])])])}const Q=v(w,[["render",U]]);export{Q as G};
