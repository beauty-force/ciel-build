import{H as j,L,G as V,r as k,o as l,c,b as _,w as p,F as b,d as e,f as x,J as y,a4 as v,n as u,e as h,y as m,t as a,z as B}from"./app.fdd6051a.js";import{A as O}from"./Admin.d53a688b.js";import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";import"./toastify.7cb4fda1.js";const I={components:{Head:j,AdminLayout:O,Link:L},props:{errors:Object,gacha:Object,category_share:Object,products:Object,profile:Object},data(){return{hasCheck:!1,main_tab:[{title:"\u672A\u9078\u629E",route_url:route("user.products"),is_active:!0},{title:"\u767A\u9001\u5F85\u3061",route_url:route("user.products.wait"),is_active:!1},{title:"\u767A\u9001\u6E08\u307F",route_url:route("user.products.delivered"),is_active:!1}],ready_delivery:0,products_count:0,isCheckAll:!1,_products:this.products.data.filter(n=>n.status==1)}},setup(n){return{form:V({checks:{}})}},methods:{changeCheck(){let n,t=!1;for(this._products=this.products.data.filter(r=>r.status==1),this.isCheckAll=this._products.length>0,n=0;n<this._products.length;n++)this.form.checks["id"+this._products[n].id]?t=!0:this.isCheckAll=!1;this.hasCheck=t},submit(n){let t,r=0;var i=0;for(t=0;t<this.products.data.length;t++)this.form.checks["id"+this.products.data[t].id]&&(r++,i=parseInt(i)+parseInt(this.products.data[t].point));n=="point"?i>0&&confirm("\u4EA4\u63DB\u3057\u307E\u3059\u304B\uFF1F \u9078\u629E\u3057\u305F"+r+"\u70B9\u306E\u5546\u54C1\u3092"+i+"pt\u3068\u4EA4\u63DB\u3057\u307E\u3059\u3002")&&this.form.post(route("user.products.point.exchange"),{preserveScroll:!0,onFinish:()=>{this.form.checks={},this.hasCheck=!1,this.isCheckAll=!1}}):r>0&&(this.products_count=r,this.ready_delivery=1,document.getElementById("main_window").scrollTo(0,0))},back_delivery(){this.ready_delivery=0,document.getElementById("main_window").scrollTo(0,0)},submit_delivery(){this.profile.address?confirm(""+this.products_count+"\u70B9\u306E\u5546\u54C1\u3092\u914D\u9001\u3057\u307E\u3059\u304B\uFF1F")&&this.form.post(route("user.delivery.post"),{preserveScroll:!0,onFinish:()=>{this.ready_delivery=2,this.form.checks={},this.hasCheck=!1,this.isCheckAll=!1}}):alert("\u5165\u529B\u30A8\u30E9\u30FC\u3001\u914D\u9001\u5148\u60C5\u5831\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002")},checkall(){let n;for(this.hasCheck=!1,n=0;n<this._products.length;n++)this.form.checks["id"+this._products[n].id]=this.isCheckAll,this.hasCheck=this.isCheckAll}}},T={key:0,class:"p-4 md:p-8 w-full"},z={class:"py-3 px-6"},H={class:"w-full text-neutral-400 mb-3"},N={class:"text-center mb-3 z-10 relative"},U={class:"cursor-pointer"},E=e("span",{class:"ml-2 font-bold text-neutral-600"},"\u5168\u3066\u3092\u9078\u629E\u3059\u308B",-1),S={class:"text-center text-neutral-50 flex justify-center mb-4"},D=["disabled"],P=e("div",{class:"m-1"},"\u30DD\u30A4\u30F3\u30C8\u306B\u63DB\u3048\u308B",-1),G=[P],J=["disabled"],M=e("div",{class:"m-1"},"\u767A\u9001\u3059\u308B",-1),q=[M],K={class:"grid md:grid-cols-2 gap-1"},Q={class:"mt-1 py-2 px-3 hover:bg-sky-50 focus:bg-sky-50"},R={class:"flex border-neutral-200 items-start"},W=["id","onUpdate:modelValue"],X=["for"],Y=["src"],Z={class:"ml-2 flex flex-col self-stretch justify-around py-3"},$={class:"text-sm px-3"},ee={class:"text-sm px-3"},te={key:0,class:"flex bg-neutral-800 text-xs justify-center items-center rounded-full px-3 mx-3 py-1 text-white w-fit"},se=e("img",{src:"/images/icon_cash.png",class:"h-4 w-4 mr-1"},null,-1),oe={class:"align-middle"},ie={class:"text-center my-6 z-10 relative"},ne={class:"cursor-pointer"},re=e("span",{class:"ml-2 font-bold text-neutral-600"},"\u5168\u3066\u3092\u9078\u629E\u3059\u308B",-1),le={class:"pb-3 pt-6 text-center text-sm text-sky-500"},ce={class:"text-center text-neutral-50 flex justify-center"},de=["disabled"],ae=e("div",{class:"m-1"},"\u30DD\u30A4\u30F3\u30C8\u306B\u63DB\u3048\u308B",-1),ue=[ae],he=["disabled"],be=e("div",{class:"m-1"},"\u767A\u9001\u3059\u308B",-1),me=[be],_e={key:1,class:"pt-6 md:px-2 px-4"},pe=e("div",{class:"mb-2 text-sm"},"\u914D\u9001\u5148\u60C5\u5831",-1),fe={class:"mb-8 border border-neutral-200 rounded-md px-4 py-2 flex items-center justify-between"},ke={class:"flex-1"},xe={class:"font-bold text-sm"},ye={class:"text-sm"},ve={class:"text-sm"},ge={class:"mb-8 text-center text-neutral-50"},we=["disabled"],Ce=["disabled"],Ae=e("h2",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u5185\u5BB9\u306E\u78BA\u8A8D",-1),je=e("hr",{class:"mb-6"},null,-1),Le={class:"mb-3 text-sm"},Ve={class:"mb-8"},Be={key:0,class:"mb-0 border-neutral-200 border-b"},Oe={class:"flex border-neutral-200 items-center"},Fe=["src"],Ie=["for"],Te={class:"text-red-500"},ze={class:"mb-8 text-center text-neutral-50"},He=["disabled"],Ne=["disabled"],Ue={key:2,class:"pt-6 md:px-2 px-4",style:{"min-height":"800px"}},Ee=e("h2",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u624B\u7D9A\u304D\u5B8C\u4E86",-1),Se=e("hr",{class:"mb-8"},null,-1),De={class:"mb-8"},Pe=e("br",null,null,-1),Ge=e("br",null,null,-1),Je=e("span",{class:"font-bold"},"\u6570\u65E5~\u6570\u9031\u9593",-1),Me=e("br",null,null,-1),qe={class:"mb-6 text-center text-neutral-50"};function Ke(n,t,r,i,o,d){const C=k("Head"),f=k("Link"),A=k("AdminLayout");return l(),c(b,null,[_(C,{title:"\u7372\u5F97\u3057\u305F\u5546\u54C1\u4E00\u89A7"}),_(A,null,{default:p(()=>[o.ready_delivery==0?(l(),c("div",T,[e("div",z,[e("div",H,[(l(!0),c(b,null,x(o.main_tab,(s,g)=>(l(),B(f,{href:s.route_url,class:u(["inline-block md:px-8 px-4 py-1.5 rounded-full text-sm",{"bg-neutral-900 text-white":s.is_active}])},{default:p(()=>[h(a(s.title),1)]),_:2},1032,["href","class"]))),256))])]),e("div",N,[e("label",U,[y(e("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=s=>o.isCheckAll=s),onChange:t[1]||(t[1]=s=>d.checkall()),class:"h-5 w-5 cursor-pointer border-neutral-700 text-yellow-500 rounded shadow-sm focus:ring-0"},null,544),[[v,o.isCheckAll]]),E])]),e("div",S,[e("button",{type:"button",onClick:t[2]||(t[2]=s=>d.submit("point")),class:u([{"opacity-25":i.form.processing||!o.hasCheck},"w-36 inline-block items-center text-yellow-400 bg-neutral-700 hover:bg-black rounded-sm font-semibold text-xs text-white uppercase tracking-widest transition ease-in-out duration-150 m-1"]),disabled:i.form.processing||!o.hasCheck},G,10,D),e("button",{type:"button",onClick:t[3]||(t[3]=s=>d.submit("delivery")),class:u([{"opacity-25":i.form.processing||!o.hasCheck},"w-36 inline-block items-center px-1 py-1 bg-neutral-300 rounded-sm font-semibold text-xs text-black uppercase tracking-widest hover:bg-neutral-600 hover:text-white focus:shadow-outline-lime transition ease-in-out duration-150 m-1"]),disabled:i.form.processing||!o.hasCheck},q,10,J)]),e("div",K,[(l(!0),c(b,null,x(r.products.data,(s,g)=>(l(),c("div",Q,[e("div",R,[y(e("input",{id:"checkbox"+s.id,"onUpdate:modelValue":w=>i.form.checks["id"+s.id]=w,type:"checkbox",onChange:t[4]||(t[4]=w=>d.changeCheck()),class:"cursor-pointer rounded border-yellow-900 text-yellow-500 shadow-sm focus:ring-0 m-1"},null,40,W),[[v,i.form.checks["id"+s.id]]]),e("label",{for:"checkbox"+s.id,class:"cursor-pointer flex items-start justify-center text-sm py-1 px-2 focus:ring-0"},[e("img",{src:s.image,alt:"Ciel | \u30AA\u30F3\u30E9\u30A4\u30F3\u30AC\u30C1\u30E3\u30FB\u30AA\u30EA\u30D1\u5C02\u9580\u5E97",class:"w-24 h-32 inline-block object-cover"},null,8,Y),e("div",Z,[e("div",$,a(s.name),1),e("div",ee,a(s.rare),1),s.is_lost_product!=2?(l(),c("div",te,[se,e("span",oe,a(s.point)+"\xA0PT",1)])):m("",!0)])],8,X)])]))),256))]),e("div",ie,[e("label",ne,[y(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=s=>o.isCheckAll=s),onChange:t[6]||(t[6]=s=>d.checkall()),class:"h-5 w-5 cursor-pointer border-neutral-700 text-yellow-500 rounded shadow-sm focus:ring-0"},null,544),[[v,o.isCheckAll]]),re])]),e("div",le,[o.hasCheck?(l(),c(b,{key:0},[h(" \u9078\u629E\u3057\u305F\u5546\u54C1\u3092... ")],64)):(l(),c(b,{key:1},[h(" \u5546\u54C1\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\uFF01 ")],64))]),e("div",ce,[e("button",{type:"button",onClick:t[7]||(t[7]=s=>d.submit("point")),class:u([{"opacity-25":i.form.processing||!o.hasCheck},"w-36 inline-block items-center text-yellow-400 bg-neutral-700 hover:bg-black rounded-sm font-semibold text-xs uppercase tracking-widest transition ease-in-out duration-150 m-1"]),disabled:i.form.processing||!o.hasCheck},ue,10,de),e("button",{type:"button",onClick:t[8]||(t[8]=s=>d.submit("delivery")),class:u([{"opacity-25":i.form.processing||!o.hasCheck},"w-36 inline-block items-center px-1 py-1 bg-neutral-300 rounded-sm font-semibold text-xs text-black uppercase tracking-widest hover:bg-neutral-600 hover:text-white focus:shadow-outline-lime transition ease-in-out duration-150 m-1"]),disabled:i.form.processing||!o.hasCheck},me,10,he)])])):m("",!0),o.ready_delivery==1?(l(),c("div",_e,[pe,e("div",fe,[e("div",ke,[r.profile.id?(l(),c(b,{key:0},[e("p",xe,a(r.profile.first_name+r.profile.last_name),1),e("p",ye,"\u3012"+a(r.profile.postal_code),1),e("p",ve,a(r.profile.address),1)],64)):m("",!0)]),e("div",null,[_(f,{href:n.route("user.address"),type:"button",onClick:t[9]||(t[9]=s=>d.back_delivery()),class:u([{"opacity-25":i.form.processing||!o.hasCheck},"inline-block items-center px-5 py-1.5 bg-neutral-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:i.form.processing||!o.hasCheck},{default:p(()=>[h(" \u7DE8\u96C6 ")]),_:1},8,["href","class","disabled"])])]),e("div",ge,[e("button",{type:"button",onClick:t[10]||(t[10]=s=>d.back_delivery()),class:u([{"opacity-25":i.form.processing||!o.hasCheck},"w-32 inline-block items-center px-1 py-2.5 bg-cyan-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150 m-1"]),disabled:i.form.processing||!o.hasCheck}," \u623B\u308B ",10,we),e("button",{type:"button",onClick:t[11]||(t[11]=s=>d.submit_delivery()),class:u([{"opacity-25":i.form.processing||!o.hasCheck},"w-32 inline-block items-center px-1 py-2.5 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150 m-1"]),disabled:i.form.processing||!o.hasCheck}," \u767A\u9001\u3059\u308B ",10,Ce)]),Ae,je,e("div",Le,"\u914D\u9001\u5546\u54C1 \uFF08\u8A08"+a(o.products_count)+"\u70B9\uFF09",1),e("div",Ve,[(l(!0),c(b,null,x(r.products.data,(s,g)=>(l(),c(b,null,[i.form.checks["id"+s.id]?(l(),c("div",Be,[e("div",Oe,[e("img",{src:s.image,alt:"Ciel | \u30AA\u30F3\u30E9\u30A4\u30F3\u30AC\u30C1\u30E3\u30FB\u30AA\u30EA\u30D1\u5C02\u9580\u5E97",class:"w-12 h-12 inline-block object-contain"},null,8,Fe),e("label",{for:"checkbox"+s.id,class:"cursor-pointer h-12 flex items-center justify-between flex-1 inline-block text-xs py-1 px-2"},[e("div",null,[e("div",null,a(s.name),1),e("div",null,a(s.rare),1),e("div",Te,a(s.point)+"pt",1)])],8,Ie)])])):m("",!0)],64))),256))]),e("div",ze,[e("button",{type:"button",onClick:t[12]||(t[12]=s=>d.back_delivery()),class:u([{"opacity-25":i.form.processing||!o.hasCheck},"w-32 inline-block items-center px-1 py-2.5 bg-cyan-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150 m-1"]),disabled:i.form.processing||!o.hasCheck}," \u623B\u308B ",10,He),e("button",{type:"button",onClick:t[13]||(t[13]=s=>d.submit_delivery()),class:u([{"opacity-25":i.form.processing||!o.hasCheck},"w-32 inline-block items-center px-1 py-2.5 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150 m-1"]),disabled:i.form.processing||!o.hasCheck}," \u767A\u9001\u3059\u308B ",10,Ne)])])):m("",!0),o.ready_delivery==2?(l(),c("div",Ue,[Ee,Se,e("div",De,[h(" \u8A08"+a(o.products_count)+"\u70B9\u306E\u5546\u54C1\u306E\u914D\u9001\u624B\u7D9A\u304D\u304C\u5B8C\u4E86\u3057\u307E\u3057\u305F\u3002",1),Pe,Ge,h(" \u5546\u54C1\u306E\u767A\u9001\u306B\u306F"),Je,h("\u304B\u304B\u308B\u53EF\u80FD\u6027\u304C\u3054\u3056\u3044\u307E\u3059\u3002"),Me,h(" \u3054\u4E86\u627F\u306E\u307B\u3069\u3088\u308D\u3057\u304F\u304A\u9858\u3044\u81F4\u3057\u307E\u3059\u3002 ")]),e("div",qe,[_(f,{href:n.route("main"),class:"w-36 inline-block items-center px-1 py-2.5 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 active:bg-red-700 focus:outline-none focus:border-red-700 focus:shadow-outline-red transition ease-in-out duration-150 m-1"},{default:p(()=>[h(" \u30AC\u30C1\u30E3TOP\u3078 ")]),_:1},8,["href"]),e("button",{type:"button",onClick:t[14]||(t[14]=s=>d.back_delivery()),class:"w-36 inline-block items-center px-1 py-2.5 bg-cyan-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-cyan-700 active:bg-cyan-700 focus:outline-none focus:border-cyan-700 focus:shadow-outline-cyan transition ease-in-out duration-150 m-1"}," \u7372\u5F97\u3057\u305F\u5546\u54C1\u4E00\u89A7\u3078 ")])])):m("",!0)]),_:1})],64)}const Ye=F(I,[["render",Ke]]);export{Ye as default};
